# regExp匹配规则

## 字面量字符和元字符

### 点字符

点字符（`.`）匹配除回车（`\r`）、换行(`\n`) 、行分隔符（`\u2028`）和段分隔符（`\u2029`）以外的所有字符。

```
/c.t/
```

上面代码中，`c.t`匹配`c`和`t`之间包含任意一个字符的情况，只要这三个字符在同一行，比如`cat`、`c2t`、`c-t`等等，但是不匹配`coot`。

## 位置字符

位置字符用来提示字符所处的位置，主要有两个字符。

- `^` 表示字符串的开始位置
- `$` 表示字符串的结束位置

```
// test必须出现在开始位置
/^test/.test('test123') // true

// test必须出现在结束位置
/test$/.test('new test') // true

// 从开始位置到结束位置只有test
/^test$/.test('test') // true
/^test$/.test('test test') // false
```

### 选择符

竖线符号（`|`）在正则表达式中表示“或关系”（OR），即`cat|dog`表示匹配`cat`或`dog`。

```
/11|22/.test('911') // true
```

## 转义符

正则表达式中那些有特殊含义的字符，如果要匹配它们本身，就需要在它们前面要加上反斜杠。比如要匹配加号，就要写成`\+`。

```
/1+1/.test('1+1')
// false

/1\+1/.test('1+1')
// true
```

正则模式中，需要用斜杠转义的，一共有12个字符：`^`、`.`、`[`、`$`、`(`、`)`、`|`、`*`、`+`、`?`、`{`和`\\`。需要特别注意的是，如果使用`RegExp`方法生成正则对象，转义需要使用两个斜杠，因为字符串内部会先转义一次。

```
(new RegExp('1\+1')).test('1+1')
// false

(new RegExp('1\\+1')).test('1+1')
// true
```

## 特殊字符

正则表达式对一些不能打印的特殊字符，提供了表达方法。

```
\cX 表示Ctrl-[X]，其中的X是A-Z之中任一个英文字母，用来匹配控制字符。
[\b] 匹配退格键(U+0008)，不要与\b混淆。
\n 匹配换行键。
\r 匹配回车键。
\t 匹配制表符tab（U+0009）。
\v 匹配垂直制表符（U+000B）。
\f 匹配换页符（U+000C）。
\0 匹配null字符（U+0000）。
\xhh 匹配一个以两位十六进制数（\x00-\xFF）表示的字符。
\uhhhh 匹配一个以四位十六进制数（\u0000-\uFFFF）表示的unicode字符。
```

## 字符类

字符类（class）表示有一系列字符可供选择，只要匹配其中一个就可以了。所有可供选择的字符都放在方括号内，比如`[xyz]` 表示`x`、`y`、`z`之中任选一个匹配。

```
/[abc]/.test('hello world') // false
/[abc]/.test('apple') // true
```

有两个字符在字符类中有特殊含义。

1. 脱字符(^)

   如果方括号内的第一个字符是`[^]`，则表示除了字符类之中的字符，其他字符都可以匹配。比如，`[^xyz]`表示除了`x`、`y`、`z`之外都可以匹配。

   ```
   /[^abc]/.test('hello world') // true
   /[^abc]/.test('bbc') // false
   ```

   如果方括号内没有其他字符，即只有`[^]`，就表示匹配一切字符，其中包括换行符，而点号（`.`）是不包括换行符的。

   ```
   var s = 'Please yes\nmake my day!';

   s.match(/yes.*day/) // null
   s.match(/yes[^]*day/) // [ 'yes\nmake my day']
   ```

   >注意，脱字符只有在字符类的第一个位置才有特殊含义，否则就是字面含义。

2. 连字符(-)

   某些情况下，对于连续序列的字符，连字符（`-`）用来提供简写形式，表示字符的连续范围。比如，`[abc]`可以写成`[a-c]`，`[0123456789]`可以写成`[0-9]`，同理`[A-Z]`表示26个大写字母。

   ```
   /a-z/.test('b') // false
   /[a-z]/.test('b') // true
   ```

   ## 预定义模式

   预定义模式指的是某些常见模式的简写方式。

   ```
   \d 匹配0-9之间的任一数字，相当于[0-9]。
   \D 匹配所有0-9以外的字符，相当于[^0-9]。
   \w 匹配任意的字母、数字和下划线，相当于[A-Za-z0-9_]。
   \W 除所有字母、数字和下划线以外的字符，相当于[^A-Za-z0-9_]。
   \s 匹配空格（包括制表符、空格符、断行符等），相等于[\t\r\n\v\f]。
   \S 匹配非空格的字符，相当于[^\t\r\n\v\f]。
   \b 匹配词的边界。
   \B 匹配非词边界，即在词的内部。
   ```

   ```
   // \s的例子
   /\s\w*/.exec('hello world') // [" world"]

   // \b的例子,\b表示词的边界，所以“world”的词首必须独立（词尾是否独立未指定），才会匹配。
   /\bworld/.test('hello world') // true
   /\bworld/.test('hello-world') // true
   /\bworld/.test('helloworld') // false

   // \B的例子
   /\Bworld/.test('hello-world') // false
   /\Bworld/.test('helloworld') // true
   ```

   ​